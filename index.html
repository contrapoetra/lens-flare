<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physically-Based Lens Flare Engine</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="loading">Loading...</div>

<div id="ui-container">
    <div id="me" style="font-size: 1em; color: #aaa; font-weight: bold;">Physically-Based "Real-Time" Lens Flare Rendering w/ Motion Blur</div>
    <div id="me" style="font-size: 0.8em; margin-top: 10px; margin-bottom: 10px; color: #aaa;">based on the research paper by Matthias Hullin et al. <a href="https://resources.mpi-inf.mpg.de/lensflareRendering/pdf/flare.pdf">Read the paper.</a></div>
    <div id="me" style="font-size: 0.8em; margin-top: 10px; margin-bottom: 10px; color: #aaa;">implemented by Dimas Atha Putra</div>

    <div class="control-group">
        <div class="control-header"><span>LENS SYSTEM</span></div>
        <select id="lens-select">
            <option value="brendel">Brendel Prime (US 2,854,889)</option>
            <option value="nikon">Nikon Zoom (US 2011/0228407)</option>
        </select>
    </div>

    <div class="control-group">
        <div class="control-header"><span>RENDER MODE</span></div>
        <select id="render-mode">
            <option value="textured" selected>Textured (Standard)</option>
            <option value="wireframe">Wireframe Grid</option>
            <option value="velocity">Velocity Heatmap</option>
        </select>
    </div>

    <div class="control-group">
        <div class="control-header"><span>GHOST ISOLATION</span> <span id="ghost-val" class="value">All</span></div>
        <input type="range" id="ghost-slider" min="-1" max="0" step="1" value="-1">
    </div>

    <div class="control-group">
        <div class="control-header"><span>GRID RESOLUTION</span></div>
        <input type="text" id="grid-res" class="draggable" value="64" data-step="1" data-int="true">
    </div>

    <div class="control-group">
        <div class="control-header"><span>APERTURE SIDES</span></div>
        <input type="text" id="aperture-sides" class="draggable" value="7" data-step="1" data-int="true">
    </div>

    <div class="control-group">
        <div class="control-header"><span>APERTURE (f-stop)</span></div>
        <input type="text" id="aperture-slider" class="draggable" value="0.1" data-step="0.01">
    </div>

    <div class="control-group">
        <div class="control-header"><span>INTENSITY</span></div>
        <input type="text" id="exposure" class="draggable" value="40" data-step="0.1">
    </div>

    <div class="control-group">
        <div class="control-header"><span>MOTION BLUR</span></div>
        <input type="range" id="blur-strength" min="0" max="1" step="0.01" value="0.5">
    </div>

    <div class="control-group">
        <div class="control-header"><span>LIGHT POSITION</span></div>
        <input type="text" id="light-x" class="draggable" value="0.3" data-step="0.0001" data-dec="4" style="margin-bottom: 10px">
        <input type="text" id="light-y" class="draggable" value="-0.2" data-step="0.0001" data-dec="4">
        <div class="button-group">
            <button id="reset-light-btn" class="button">Reset</button>
            <button id="animateButton" class="button">Animate Light</button>
        </div>
    </div>

</div>

<div id="mini-map-container">
    <canvas id="mini-canvas"></canvas>
</div>

    <canvas id="glcanvas"></canvas>
    <script src="engine.js"></script>
</body>
</html>
